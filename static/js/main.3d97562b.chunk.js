(this["webpackJsonp01-todolist"]=this["webpackJsonp01-todolist"]||[]).push([[0],{24:function(t,e,n){},27:function(t,e,n){t.exports=n(56)},32:function(t,e,n){},56:function(t,e,n){"use strict";n.r(e);var a=n(0),o=n.n(a),i=n(9),s=n.n(i);n(32),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var r=n(7),c=n(8),l=n(6),u=n(1),d=n(14),p=n.n(d),f=p.a.create({baseURL:"https://social-network.samuraijs.com/api/1.1/todo-lists/",withCredentials:!0,headers:{"API-KEY":"e655fc0d-99c3-4c81-8dea-0837243fe8bf"}}),h=function(t){return f.post("",{title:t}).then((function(t){return t.data}))},m=function(){return f.get("").then((function(t){return t}))},k=function(t,e){return f.post("".concat(e,"/tasks"),{title:t}).then((function(t){return t.data}))},S=function(t){return f.get("".concat(t,"/tasks")).then((function(t){return t.data}))},T=function(t,e,n,a){return f.put("".concat(t,"/tasks/").concat(e),Object(u.a)(Object(u.a)({},n),a)).then((function(t){return t.data}))},C=function(t,e){return p.a.delete("https://social-network.samuraijs.com/api/1.1/todo-lists/".concat(t,"/tasks/").concat(e),{withCredentials:!0,headers:{"API-KEY":"e655fc0d-99c3-4c81-8dea-0837243fe8bf"}}).then((function(t){return t.data}))},b=function(t){return f.delete("".concat(t)).then((function(t){return t.data}))},E=function(t,e){return f.put("".concat(t),{title:e}).then((function(t){return t.data}))},O={todolists:[]},v=n(26),j=Object(c.c)((function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case"ADD_TODOLIST_SUCCESS":return Object(u.a)(Object(u.a)({},t),{},{todolists:[].concat(Object(l.a)(t.todolists),[Object(u.a)(Object(u.a)({},e.newTodoList),{},{tasks:[]})])});case"ADD_TASK_SUCCESS":return Object(u.a)(Object(u.a)({},t),{},{todolists:Object(l.a)(t.todolists.map((function(t){return t.id===e.todoListId?Object(u.a)(Object(u.a)({},t),{},{tasks:[].concat(Object(l.a)(t.tasks),[e.newTask])}):t})))});case"CHANGE_TASK_SUCCESS":return Object(u.a)(Object(u.a)({},t),{},{todolists:Object(l.a)(t.todolists.map((function(t){return t.id===e.task.todoListId?Object(u.a)(Object(u.a)({},t),{},{tasks:t.tasks.map((function(t){return t.id!==e.task.id?t:Object(u.a)({},e.task)}))}):t})))});case"DELL_TASK_SUCCESS":return Object(u.a)(Object(u.a)({},t),{},{todolists:t.todolists.map((function(t){return t.id===e.todoListId?Object(u.a)(Object(u.a)({},t),{},{tasks:Object(l.a)(t.tasks.filter((function(t){if(t.id!==e.taskID)return t})))}):t}))});case"DELL_TODOLIST_SUCCESS":return Object(u.a)(Object(u.a)({},t),{},{todolists:Object(l.a)(t.todolists.filter((function(t){if(t.id!==e.todoListId)return t})))});case"SET_TODOLIST_SUCCESS":return Object(u.a)(Object(u.a)({},t),{},{todolists:e.todolists.map((function(t){return Object(u.a)(Object(u.a)({},t),{},{tasks:[]})}))});case"SET_TASKS_SUCCESS":return Object(u.a)(Object(u.a)({},t),{},{todolists:t.todolists.map((function(t){return t.id!==e.todoListId?t:Object(u.a)(Object(u.a)({},t),{},{tasks:e.tasks})}))});case"CHANGE_TODOLIST_SUCCESS":return Object(u.a)(Object(u.a)({},t),{},{todolists:t.todolists.map((function(t){return t.id!==e.todoListId?t:Object(u.a)(Object(u.a)({},t),{},{title:e.title})}))});default:return t}}),Object(c.a)(v.a));window.store=j;var L=j,g=n(2),A=n(10),y=n(4),I=n(3),_=(n(24),function(t){Object(y.a)(n,t);var e=Object(I.a)(n);function n(){var t;return Object(g.a)(this,n),(t=e.call(this)).state={error:!1,inputValue:""},t.newInputValue=function(e){t.setState({inputValue:e.currentTarget.value}),t.setState({error:!1})},t.onAddItemClick=function(){var e=t.state.inputValue.trim();""===e?t.setState({error:!0}):(t.props.addItem(e),t.state.inputValue="")},t.onKeyPress=function(e){"Enter"===e.key&&t.onAddItemClick()},t.render=function(){var e=!0===t.state.error?"error":"input";return o.a.createElement("div",{className:"todoList-header"},o.a.createElement("div",{className:"todoList-newTaskForm"},o.a.createElement("input",{value:t.state.inputValue,onChange:t.newInputValue,className:e,type:"text",placeholder:"New item name",onKeyPress:t.onKeyPress}),o.a.createElement("button",{className:"button",onClick:t.onAddItemClick},"Add")))},t}return n}(o.a.Component)),w=function(t){return o.a.createElement("span",{onClick:t.dellEntity,className:"closeButton"})},D=function(t){Object(y.a)(n,t);var e=Object(I.a)(n);function n(){var t;Object(g.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={editMode:!1,title:t.props.task.title},t.isEditModeActivated=function(){t.setState({editMode:!0})},t.isEditModeDeActivated=function(){t.props.changeStatusTitle(t.props.task,t.state.title),t.setState({editMode:!1})},t.onTitleChange=function(e){t.setState({title:e.currentTarget.value})},t.onIsDoneChanged=function(e){var n=e.currentTarget.checked?2:0;t.props.changeStatus(t.props.task,n)},t.onKeyPress=function(e){"Enter"===e.key&&t.isEditModeDeActivated()},t.dellTask=function(){t.props.dellTask(t.props.task.id)},t.render=function(){var e=t.props.task.status,n=2===e?"todoList-task done":"todoList-task";return o.a.createElement("div",{className:n},o.a.createElement("div",null,o.a.createElement("input",{onChange:t.onIsDoneChanged,type:"checkbox",checked:2===e}),t.state.editMode?o.a.createElement("input",{value:t.state.title,autoFocus:!0,onBlur:t.isEditModeDeActivated,onChange:t.onTitleChange,onKeyPress:t.onKeyPress}):o.a.createElement("span",{onClick:t.isEditModeActivated},t.props.task.id," - ",t.props.task.title,": ",t.props.task.priority),o.a.createElement(w,{dellEntity:t.dellTask})))},t}return n}(o.a.Component),N=function(t){Object(y.a)(n,t);var e=Object(I.a)(n);function n(){var t;Object(g.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).render=function(){var e=t.props.tasks.map((function(e){return o.a.createElement(D,{task:e,changeStatus:t.props.changeStatus,changeStatusTitle:t.props.changeStatusTitle,dellTask:t.props.dellTask})}));return o.a.createElement("div",{className:"todoList-tasks.isDone"},e)},t}return n}(o.a.Component),M=function(t){Object(y.a)(n,t);var e=Object(I.a)(n);function n(){var t;Object(g.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={isHiden:!0},t.onAllFilterClick=function(){t.props.changeFilter("All")},t.onCompletedFilterClick=function(){t.props.changeFilter("Completed")},t.onActiveFilterClick=function(){t.props.changeFilter("Active")},t.onShowFiltersClick=function(){t.setState({isHiden:!1})},t.onHideFiltersClick=function(){t.setState({isHiden:!0})},t.render=function(){var e="All"===t.props.filterValue?"filter-active":"button",n="Completed"===t.props.filterValue?"filter-active":"button",a="Active"===t.props.filterValue?"filter-active":"button";return o.a.createElement("div",{className:"todoList-footer"},t.state.isHiden&&o.a.createElement("div",null,o.a.createElement("button",{className:e,onClick:t.onAllFilterClick},"All"),o.a.createElement("button",{className:n,onClick:t.onCompletedFilterClick},"Completed"),o.a.createElement("button",{className:a,onClick:t.onActiveFilterClick},"Active")),o.a.createElement("div",{className:"showHideTask"},o.a.createElement("button",{className:"button",onClick:t.onHideFiltersClick},"show"),o.a.createElement("button",{className:"button",onClick:t.onShowFiltersClick},"hide")))},t}return n}(o.a.Component),F=function(t){Object(y.a)(n,t);var e=Object(I.a)(n);function n(){var t;Object(g.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={editMode:!1,title:t.props.title},t.onTitleChange=function(e){t.setState({title:e.currentTarget.value})},t.onKeyPress=function(e){"Enter"===e.key&&t.isEditModeDeActivated()},t.isEditModeActivated=function(){t.setState({editMode:!0})},t.isEditModeDeActivated=function(){t.props.changeTodoList(t.state.title),t.setState({editMode:!1})},t.dellTodoList=function(){t.props.dellTodoList()},t.render=function(){return o.a.createElement("div",{className:"todoList-title"},t.state.editMode?o.a.createElement("input",{value:t.state.title,autoFocus:!0,onBlur:t.isEditModeDeActivated,onChange:t.onTitleChange,onKeyPress:t.onKeyPress}):o.a.createElement("h3",{className:"todoList-header__title",onClick:t.isEditModeActivated},t.props.title),o.a.createElement(w,{dellEntity:t.dellTodoList}))},t}return n}(o.a.Component),K=function(t){Object(y.a)(n,t);var e=Object(I.a)(n);function n(){var t;Object(g.a)(this,n);for(var a=arguments.length,i=new Array(a),s=0;s<a;s++)i[s]=arguments[s];return(t=e.call.apply(e,[this].concat(i))).state={filterValue:"All"},t.addTask=function(e){t.props.addTask(e,t.props.id)},t.restoreState=function(){t.props.setTasks(t.props.id)},t.changeFilter=function(e){t.setState({filterValue:e})},t.changeTask=function(e,n){t.props.changeTask(t.props.id,e.id,e,n)},t.changeStatus=function(e,n){t.changeTask(e,{status:n})},t.changeStatusTitle=function(e,n){t.changeTask(e,{title:n})},t.dellTask=function(e){t.props.dellTask(t.props.id,e)},t.dellTodoList=function(){t.props.dellTodoList(t.props.id)},t.changeTodoList=function(e){t.props.changeTodoList(t.props.id,e)},t.render=function(){return o.a.createElement("div",{className:"todoList"},o.a.createElement("div",null,o.a.createElement(F,{title:t.props.title,dellTodoList:t.dellTodoList,changeTodoList:t.changeTodoList}),o.a.createElement(_,{addItem:t.addTask}),o.a.createElement(N,{tasks:t.props.tasks.filter((function(e){return"All"===t.state.filterValue||("Active"===t.state.filterValue?0===e.status:"Completed"===t.state.filterValue?2===e.status:void 0)})),changeStatus:t.changeStatus,changeStatusTitle:t.changeStatusTitle,dellTask:t.dellTask}),o.a.createElement(M,{filterValue:t.state.filterValue,changeFilter:t.changeFilter})))},t}return Object(A.a)(n,[{key:"componentDidMount",value:function(){this.restoreState()}}]),n}(o.a.Component),U=Object(r.b)(null,{addTask:function(t,e){return function(n,a){k(t,e).then((function(t){if(0===t.resultCode){var a=t.data.item;n(function(t,e){return{type:"ADD_TASK_SUCCESS",todoListId:t,newTask:e}}(e,a))}}))}},changeTask:function(t,e,n,a){return function(o,i){T(t,e,n,a).then((function(t){0===t.resultCode&&o(function(t){return{type:"CHANGE_TASK_SUCCESS",task:t}}(t.data.item))}))}},dellTask:function(t,e){return function(n,a){C(t,e).then((function(a){0===a.resultCode&&n(function(t,e){return{type:"DELL_TASK_SUCCESS",todoListId:t,taskID:e}}(t,e))}))}},dellTodoList:function(t){return function(e,n){b(t).then((function(n){0===n.resultCode&&e(function(t){return{type:"DELL_TODOLIST_SUCCESS",todoListId:t}}(t))}))}},setTasks:function(t){return function(e,n){S(t).then((function(n){n.error||e(function(t,e){return{type:"SET_TASKS_SUCCESS",tasks:e,todoListId:t}}(t,n.items))}))}},changeTodoList:function(t,e){return function(n,a){E(t,e).then((function(a){0===a.resultCode&&n(function(t,e){return{type:"CHANGE_TODOLIST_SUCCESS",todoListId:t,title:e}}(t,e))}))}}})(K),V=function(t){Object(y.a)(n,t);var e=Object(I.a)(n);function n(){var t;Object(g.a)(this,n);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return(t=e.call.apply(e,[this].concat(o))).addTodoList=function(e){t.props.addTodoList(e)},t.restoreState=function(){t.props.setTodoLists()},t}return Object(A.a)(n,[{key:"componentDidMount",value:function(){this.restoreState()}},{key:"render",value:function(){var t=this.props.todolists.map((function(t){return o.a.createElement(U,{key:t.id,id:t.id,title:t.title,tasks:t.tasks})}));return o.a.createElement("div",null,o.a.createElement(_,{addItem:this.addTodoList}),o.a.createElement("div",{className:"App"},t))}}]),n}(o.a.Component),H=Object(r.b)((function(t){return{todolists:t.todolists}}),{setTodoLists:function(){return function(t,e){m().then((function(e){t({type:"SET_TODOLIST_SUCCESS",todolists:e.data})}))}},addTodoList:function(t){return function(e,n){h(t).then((function(t){var n=t.data.item;e({type:"ADD_TODOLIST_SUCCESS",newTodoList:n})}))}}})(V);s.a.render(o.a.createElement(r.a,{store:L},o.a.createElement(H,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[27,1,2]]]);
//# sourceMappingURL=main.3d97562b.chunk.js.map